<!DOCTYPE html>
<!-- saved from url=(0059)https://authsamples.com/apps/finaldesktopapp/postlogin.html -->
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!-- Based on the page used in the extended AppAuth sample 
             https://github.com/iainmcgin/AppAuth-Demo -->

    <title>Login Complete</title>

    <script>
      window.addEventListener("DOMContentLoaded", function () {
        document.getElementById("continueButton").style.visibility = "hidden";

        if (window.location.search.indexOf("code=") == -1) {
          var result = document.getElementById("result");
          result.innerText =
            "An error occured. Please consider logging a bug report.";
          result.style.color = "#b62e2e";

          var button = document.getElementById("continueButton");
          button.onclick = function () {
            window.location.href = "https://github.com/JyeGuru/Cerebral/issues";
          };
          button.style.visibility = "visible";
        } else {
          var redirectUri = "eve-cerebral://auth/";
          if (window.location.search) {
            redirectUri += window.location.search;
          }

          setTimeout(() => {
            window.location.href = redirectUri;
          }, 1000);

          setTimeout(() => {
            var result = document.getElementById("result");
            result.innerText = "You can now close this window.";
          }, 5000);
        }
      });
    </script>

    <style>
        body {
            background-color: #303030;
        }
      #container {
        display: flex;
        flex-direction: column;
        align-items: center;
        font-family: sans-serif;
        padding: 10px;
        font-size: 20px;
      }
      #continueButton {
        margin-top: 10px;
        padding: 8px 32px;
        color: white;
        background-color: #b62e2e;
        font-size: 16px;
      }
      #heading {
        color: #5ab0f7;
      }
      #result {
          color: lightgray;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <h2 id="heading">Login Complete</h2>
      <h4 id="result">
        Please wait while you are redirected back to the application.
      </h4>
      <button id="continueButton">Report Bug</button>
    </div>
  </body>
</html>
